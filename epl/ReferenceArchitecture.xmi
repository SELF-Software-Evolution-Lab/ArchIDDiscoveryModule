<?xml version="1.0" encoding="UTF-8"?>
<Rules:ReferenceArchitecture xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:Rules="https://www.uniandes.edu.co/archtoring" umlModel="desarrollo">
  <structuralElements umlElement="controllers"/>
  <structuralElements umlElement="dtos"/>
  <structuralElements umlElement="services"/>
  <structuralElements umlElement="entities"/>
  <structuralElements umlElement="repositories"/>
  <decisions title="Dependency injection" associatedQA="//@attributes.0">
    <rules title="Controller must have an injection of the corresponding service interfaces" action="Inject service interfaces in controllers." debt="30" severity="Major" description="Services must be injected in controllers using @Autowired annotations in the corresponding fields." nonCompliantExample="private ClienteSeguridadService clienteSeguridadService;" compliantSolution="@Autowired\r\nprivate ClienteSeguridadService clienteSeguridadService;" structuralElement="//@structuralElements.0" id="4" category="Architectural"/>
    <rules title="Service implementation must inject the corresponding services and repositories" debt="30" severity="Major" description="Services and repositories must be injected in services using @Autowired annotations in the corresponding fields." nonCompliantExample="private RolRepository rolRepository;" compliantSolution="@Autowired\r\nprivate RolRepository rolRepository;" structuralElement="//@structuralElements.2" id="17" category="Architectural"/>
  </decisions>
  <decisions title="Layered architecture" associatedQA="//@attributes.1">
    <rules title="Controllers must be annotated with RestController annotation" action="" debt="10" severity="Major" description="Controllers must be annotated with @RestController annotation to let Spring know it is a controller." nonCompliantExample="@CrossOrigin\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LogicController{\r\n...\r\n}" compliantSolution="@RestController\r\n@CrossOrigin\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LogicController{\r\n...\r\n}" structuralElement="//@structuralElements.0" id="2" category="Bug"/>
    <rules title="Repositories must be annotated with Repository annotation" debt="10" severity="Major" description="Repositories must be annotated with @Repository annotation to let Spring know it is a repository." nonCompliantExample="public interface EmpresaRepository  extends JpaRepository&lt;Empresa, Integer> {\r\n...\r\n}" compliantSolution="@Repository\r\npublic interface EmpresaRepository  extends JpaRepository&lt;Empresa, Integer> {\r\n...\r\n}" structuralElement="//@structuralElements.4" id="5" category="Architectural"/>
    <rules title="Repositories must extend JpaRepository class" debt="30" severity="Minor" description="Repositories must extend JpaRepository class to access JPA." nonCompliantExample="public interface EmpresaRepository {\r\n...\r\n}" compliantSolution="public interface EmpresaRepository  extends JpaRepository&lt;Empresa, Integer> {\r\n...\r\n}" structuralElement="//@structuralElements.4" id="6" category="Architectural"/>
    <rules title="Services must be annotated with Service annotation" debt="10" severity="Major" description="Services must be annotated with @Service annotation to let Spring know it is a service." nonCompliantExample="public class ClienteSeguridadServiceImpl implements ClienteSeguridadService {\r\n...\r\n}" compliantSolution="@Service\r\npublic class ClienteSeguridadServiceImpl implements ClienteSeguridadService {\r\n...\r\n}" structuralElement="//@structuralElements.2" id="7" category="Architectural"/>
    <rules title="Controllers must be annotated with CrossOrigin annotation" action="" debt="10" severity="Major" description="Controllers must be annotated with @CrossOrigin annotation that allows access from external resources." nonCompliantExample="@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LogicController{\r\n...\r\n}" compliantSolution="@RestController\r\n@CrossOrigin\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LogicController{\r\n...\r\n}" structuralElement="//@structuralElements.0" id="1" category="Bug"/>
    <rules title="Controllers must be annotated with RequestMapping annotation" action="" debt="10" severity="Major" description="Controllers must be annotated with @RequestMapping annotation that defines the path to the resource." nonCompliantExample="@RestController\r\n@CrossOrigin\r\npublic class LogicController{\r\n...\r\n}" compliantSolution="@RestController\r\n@CrossOrigin\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class LogicController{\r\n...\r\n}" structuralElement="//@structuralElements.0" id="3" category="Bug"/>
  </decisions>
  <decisions title="Interfaces" associatedQA="//@attributes.0">
    <rules title="Services must implement its interface." debt="30" severity="Minor" description="Services must implement their corresponding interface and all its methods." nonCompliantExample="public class ClienteSeguridadServiceImpl {\r\n...\r\n}" compliantSolution="public class ClienteSeguridadServiceImpl implements ClienteSeguridadService {\r\n...\r\n}" structuralElement="//@structuralElements.2" id="8" category="Bug"/>
    <rules title="All service methods must override methods in its interface" debt="10" severity="Minor" description="All public methods in a service implementation must implement a method present in the interface." nonCompliantExample="public UsuarioModelo crearObjetoDePersistencia {\r\n...\r\n}" compliantSolution="@Override\r\npublic UsuarioModelo crearObjetoDePersistencia {\r\n...\r\n}" structuralElement="//@structuralElements.2" id="9" category="Bug"/>
  </decisions>
  <decisions title="Models usage" associatedQA="//@attributes.0">
    <rules title="Entities must be annotated with Entity annotation" debt="10" severity="Major" description="Entities must be annotated with @Entity annotation to denote it is an entity." nonCompliantExample="@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" compliantSolution="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" structuralElement="//@structuralElements.3" id="10" category="Bug"/>
    <rules title="Abstract entities must be annotated with MappedSuperclass annotation" debt="10" severity="Minor" description="Abstract entities must be annotated with @MappedSuperclass annotation to denote they are abstract entities." nonCompliantExample="@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic abstract class BaseModeloEstado extends EstadoModelo {\r\n...\r\n}" compliantSolution="@MappedSuperclass\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic abstract class BaseModeloEstado extends EstadoModelo {\r\n...\r\n}" structuralElement="//@structuralElements.3" id="14" category="Bug"/>
    <rules title="Entities must be annotated with Table annotation" debt="30" severity="Major" description="Entities must be annotated with @Table annotation to declare its table in the database." nonCompliantExample="@Entity\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" compliantSolution="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" structuralElement="//@structuralElements.3" id="11" category="Bug"/>
    <rules title="Entities must be annotated with EqualsAndHashCode annotation" debt="10" severity="Major" description="Entities must be annotated with @EqualsAndHashCode annotation to include equals and hashCode methods in the entity." nonCompliantExample="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" compliantSolution="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" structuralElement="//@structuralElements.3" id="12" category="Bug"/>
    <rules title="Entities must be annotated with Data annotation" debt="10" severity="Major" description="Entities must be annotated with @Data annotation to denote it is a model." nonCompliantExample="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" compliantSolution="@Entity\r\n@Table(name=&quot;CPEOTC_CUENTA_USUARIO_TBL&quot;, schema = &quot;CPEOTC&quot;)\r\n@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class CuentaUsuario extends EstadoModelo {\r\n...\r\n}" structuralElement="//@structuralElements.3" id="13" category="Bug"/>
  </decisions>
  <decisions title="TO usage" associatedQA="//@attributes.0">
    <rules title="TOs must be annotated with Data annotation" debt="10" severity="Major" description="Transfer Objects must be annotated with @Data annotation to denote it is a model." nonCompliantExample="@EqualsAndHashCode(callSuper=false)\r\npublic class UsuarioRolModeloTO {\r\n...\r\n}" compliantSolution="@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class UsuarioRolModeloTO {\r\n...\r\n}" structuralElement="//@structuralElements.1" id="15" category="Bug"/>
    <rules title="TOs must be annotated with EqualAndHashCode annotation" debt="10" severity="Major" description="Transfer Objects must be annotated with @EqualsAndHashCode annotation to include equals and hashCode methods in the TO." nonCompliantExample="@Data\r\npublic class UsuarioRolModeloTO {\r\n...\r\n}" compliantSolution="@EqualsAndHashCode(callSuper=false)\r\n@Data\r\npublic class UsuarioRolModeloTO {\r\n...\r\n}" structuralElement="//@structuralElements.1" id="16" category="Bug"/>
  </decisions>
  <attributes name="mantainability"/>
  <attributes name="modularity"/>
</Rules:ReferenceArchitecture>
