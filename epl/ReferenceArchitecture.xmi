<?xml version="1.0" encoding="UTF-8"?>
<Rules:ReferenceArchitecture xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Rules="https://www.uniandes.edu.co/archtoring" xsi:schemaLocation="https://www.uniandes.edu.co/archtoring rules.ecore" umlModel="desarrollo">
  <structuralElements umlElement="controllers"/>
  <structuralElements umlElement="dtos"/>
  <structuralElements umlElement="services"/>
  <structuralElements umlElement="entities"/>
  <structuralElements umlElement="repositories"/>
  <decisions title="Dependency injection" associatedQA="//@attributes.0">
    <rules title="Controller must have an injection of the corresponding service interface" action="Inject service interfaces in controllers." severity="Major" structuralElement="//@structuralElements.0" id="2" category="Architectural"/>
    <rules title="Service implementation must inject the corresponding services and repositories" severity="Major" structuralElement="//@structuralElements.2" id="11" category="Architectural"/>
  </decisions>
  <decisions title="Layered architecture" associatedQA="//@attributes.1">
    <rules title="Controllers must be annotated with RestController, CrossOrigin and RequestMapping annotations" action="" severity="Major" structuralElement="//@structuralElements.0" id="1" category="Bug"/>
    <rules title="Repositories must be annotated with Repository annotation" severity="Major" structuralElement="//@structuralElements.4" id="3" category="Architectural"/>
    <rules title="Repositories must extend JpaRepository class" severity="Minor" structuralElement="//@structuralElements.4" id="4" category="Architectural"/>
    <rules title="Services must be annotated with Service annotation" severity="Major" structuralElement="//@structuralElements.2" id="5" category="Architectural"/>
  </decisions>
  <decisions title="Interfaces" associatedQA="//@attributes.0">
    <rules title="Services must implement its interface." severity="Minor" nonCompliantExample="" structuralElement="//@structuralElements.2" id="6" category="Bug"/>
    <rules title="All service methods must override methods in its interface" severity="Minor" structuralElement="//@structuralElements.2" id="7" category="Bug"/>
  </decisions>
  <decisions title="Models usage" associatedQA="//@attributes.0">
    <rules title="Entities must be annotated with Entity, Table, EqualsAndHashCode and Data annotations" severity="Major" structuralElement="//@structuralElements.3" id="8" category="Bug"/>
    <rules title="Abstract entities must be annotated with MappedSuperclass annotation" severity="Minor" structuralElement="//@structuralElements.3" id="9" category="Bug"/>
  </decisions>
  <decisions title="TO usage" associatedQA="//@attributes.0">
    <rules title="TOs must be annotated with Data and EqualAndHashCode annotations" severity="Major" structuralElement="//@structuralElements.1" id="10" category="Bug"/>
  </decisions>
  <attributes name="mantainability"/>
  <attributes name="modularity"/>
</Rules:ReferenceArchitecture>
